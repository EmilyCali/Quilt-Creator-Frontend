<!DOCTYPE html>
<html ng-app="quilt_creator_app">
  <head>
    <meta charset="utf-8">
    <title>Quilt Creator Home</title>
    <!-- javascript -->
      <!-- jquery -->
        <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=" crossorigin="anonymous"></script> -->
      <!-- angular -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
      <!-- js files -->
        <script type="text/javascript" src="/js/app.js"></script>
    <!-- css -->
      <link rel="stylesheet" type="text/css" href="/css/quilt.css" />
  </head>
  <body ng-controller="mainController as ctrl">

<!-- =====AN ATTEMPT AT PARTIALS THAT FAILED==== -->
    <!-- <div ng-include="views/createAccount.html">
    </div>

    <div ng-include="views/login.html">
    </div> -->

    <!--===============HEADER===============-->
    <header>
      <h2 class="logo">Quilt Creator</h2>
      <nav role="navigation">
        <a href="#">ABOUT</a>
        <a class="login" href="#">LOGIN</a>
        <a id="open-signup" class="signup" href="#">SIGN UP</a>
        <a class="create-quilt" href="#">CREATE A QUILT</a>
        <a class="edit-account" href="#">EDIT ACCOUNT</a>
        <a href="#" ng-click="ctrl.logout()">LOG OUT</a>
      </nav>
    </header>
    <!--=================END HEADER============-->


    <!--===========CREATE ACCOUNT=============-->
    <section id="signup-modal" class="modal">
      <section class="modal-input-box">
        <!--Button to close modal-->
        <!-- <div>
          <a class="close">X</a>
        </div> -->
        <!-- Button to close the modal END-->
        <form ng-submit="ctrl.createAccount(user)">
          <div class="legend-container">
            <legend align="center"><h2>Create Account</h2></legend>
          </div>
          <input class="username" type="text" ng-model="user.username" placeholder="username"/>
          <br/>
          <input class="password" type="password" ng-model="user.password" placeholder="password" required min-length="8"/>
          <br/>
          <input class="create-account-btn" type="submit" value="Sign Up"/>
        </form>
      </section>
    </section>
    <!--=========END CREATE ACCOUNT=========-->


    <!--============LOGIN MODAL===============-->
    <section id="login-modal" class="modal">
      <section class="modal-input-box">
        <!--Button to close modal-->
        <!-- <div>
          <a class="close">X</a>
        </div> -->
        <!-- Button to close the modal END-->
        <form ng-submit="ctrl.login(user)">
          <div class="legend-container">
            <legend><h2>Login</h2></legend>
          </div>
          <label for="username">Username:</label>
          <input type="text" ng-model="user.username" placeholder="username"/>
          <br/>
          <label for="password">Password:</label>
          <input type="password" ng-model="user.password" placeholder="password" required min-length="8"/>
          <br/>
          <input class="btn" type="submit" value="Login"/>
        </form>
        <p>Welcome: {{ ctrl.user.username }} </p>
        <div>{{ctrl.error}}</div>
        <!-- removed ng repeat for user -->
      </section>
    </section>
    <!--=============END LOGIN MODAL============-->

    <!--=============EDIT ACCOUNT===============-->
    <section id="edit-modal" class="modal">
      <section class="modal-input-box">
        <!--Button to close modal-->
        <!-- <div>
          <a class="close">X</a>
        </div> -->
        <!-- Button to close the modal END-->
        <form ng-submit="ctrl.editUser(user, ctrl.user.id)">
          <div class="legend-container">
            <legend align="center"><h2>Edit Your Account {{user.username}}</h2></legend>
          </div>
          <label for="favorite_block">Favorite Block:</label>
          <input type="text" ng-model="user.favorite_block" placeholder="{{user.favorite_block}}" value="{{user.favorite_block}}"/>
          <br/>
          <label for="years_quilting">Years Quilting:</label>
          <input type="text" ng-model="user.years_quilting" placeholder="{{user.years_quilting}}" value="{{user.years_quilting}}"/>
          <input type="submit" value="Save Changes"/>
        </form>
        <button ng-click="ctrl.deleteUser(ctrl.user.id)">Delete Account</button>
      </section>
    </section>
    <!--===========END EDIT ACCOUNT===========-->


<!-- QUILTS QUILTS QUILTS QUILTS QUILTS QUILTS  -->


    <!--============INDEX QUILTS===============-->
    <div id="index-quilts">
      <div class="quilts container">
        <div ng-repeat="quilt_block in ctrl.quilt_blocks">
          <!-- title -->
          <!-- creator (user_id) -->
          <!-- difficulty -->
          <!-- img -->
        </div>
      </div>
    </div>
    <!--=============END QUILT INDEX============-->

    <!--============MAKE QUILTS===============-->
    <div id="create-quilt-block">
      <div class="quilts container">

        <!-- two triangles count as 1 here, because two make up one block -->
        <form ng-submit="ctrl.createQuiltBlock(quilt_block, ctrl.user.id)">
          <!-- title -->
          <label> Title your Quilt Block </label>
          <input type="text" ng-model="ctrl.quilt_block.title" placeholder="title" />
          <br/>
          <!-- difficulty -->
          <label> How Difficult is Your Quilt Block? </label>
          <input type="text" ng-model="ctrl.quilt_block.difficulty" placeholder="easy, medium, hard, extreme"/>
          <br/>
          <!-- style -->
          <label> Style of Your Quilt </label>
          <input type="text" ng-model="ctrl.quilt_block.type" placeholder="modern, traditional, crazy cool"/>
          <br/>
          <!-- img -->
          <label> Please Enter A Number from the examples above </label>
          <input type="text" ng-model="ctrl.quilt_block.img" placeholder="1,2,3" />
          <br/>
          <!-- piece_size -->
          <label> Piece Size (without seam allowance) </label>
          <input type="text" ng-model="ctrl.quilt_block.piece_size" placeholder="inches"/>
          <br/>
          <!-- num pieces possible 4, 9, 16, 25, 36-->
          <label> Number of Pieces (must be a square number such as 4, 9, 16...) </label>
          <input type="text" ng-model="ctrl.quilt_block.num_pieces" placeholder="square numbers only"/>
          <br/>
          <!-- triangles -->
          <label> How many Square Pieces do you have that are made of Half Triangles? </label>
          <input type="text" ng-model="ctrl.quilt_block.triangles" placeholder="number of triangled squares"/>
          <br/>
          <!-- squares -->
          <label> How many whole Square Pieces do you have in your quilt block? </label>
          <input type="text" ng-model="ctrl.quilt_block.squares" placeholder="number of squares" />
          <br/>
          <!-- submit -->
          <input type="submit" value="Make Your Block" />
        </form>
      </div>
    </div>
    <!--=============END MAKE QUILT============-->

    <!--============SHOW QUILTS===============-->
    <div id="show-quilt">
      <div class="quilts container">
        <div ng-repeat="info in ctrl.quilt_block">
          <!-- title -->
          <!-- creator (user_id) -->
          <!-- difficulty -->
          <!-- style -->
          <!-- img -->
          <!-- piece size -->
          <!-- number of pieces -->
          <!-- triangles -->
          <!-- squares -->
        </div>
      </div>
    </div>
    <!--=============END SHOW QUILT============-->



  </body>
</html>
